@using Microsoft.AspNetCore.Identity
@using Umbraco.Cms.Core.Security
@model NckExchange.Models.LoginViewModel

@{
    ViewData["MetaTitle"] = "Login";
    Layout = "_Layout"; // Use your main site layout
}

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="p-5 bg-white rounded-3 shadow">
                <h1 class="mb-4 text-center">Login to Admin</h1>

                @* Display any errors from the controller (e.g., "Error from external provider") *@
                <div asp-validation-summary="All" class="text-danger mb-3"></div>

                @* Google Login Button Form *@
                <form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnUrl="@ViewData["ReturnUrl"]" method="post">
                    @Html.AntiForgeryToken() @* Important for security *@
                    <input type="hidden" name="provider" value="Google" /> @* Specifies "Google" as the external provider *@
                    <button type="submit" class="btn btn-google w-100 py-2 mb-3">
                        <i class="bi bi-google me-2"></i> Sign In with Google
                    </button>
                </form>

                <hr class="my-4">

                <p class="text-center text-muted">
                    If you don't have a Google account linked, please contact support.
                </p>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <style>
        .btn-google {
            background-color: #DB4437; /* Google Red */
            color: white;
            border: none;
        }
        .btn-google:hover {
            background-color: #C1352A;
            color: white;
        }
    </style>
}
